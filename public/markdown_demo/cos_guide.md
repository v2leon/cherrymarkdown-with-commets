# 腾讯云COS配置指南

## 功能介绍

从云存储导入功能允许您直接从腾讯云COS（对象存储）中浏览和加载Markdown文件。这对于团队协作和文档管理非常有用。

## 配置步骤

### 1. 获取腾讯云密钥

1. 登录 [腾讯云控制台](https://console.cloud.tencent.com/)
2. 访问 [API密钥管理](https://console.cloud.tencent.com/cam/capi)
3. 创建或查看您的 SecretId 和 SecretKey

### 2. 准备COS存储桶

1. 在腾讯云控制台创建COS存储桶
2. 记录存储桶名称（格式：`bucket-name-appid`）
3. 记录所在地域（如：`ap-beijing`）

### 3. 配置跨域访问（推荐）

为避免CORS问题，建议在COS控制台配置跨域规则：

1. 进入存储桶管理页面
2. 选择"安全管理" > "跨域访问CORS"
3. 添加规则：
   - 来源Origin：`*` 或您的域名
   - 操作Methods：`GET, HEAD`
   - Allow-Headers：`*`
   - Expose-Headers：留空

### 4. 在应用中配置

1. 点击菜单中的"从云存储导入"
2. 输入获取的配置信息：
   - SecretId：您的腾讯云SecretId
   - SecretKey：您的腾讯云SecretKey（支持密码显示/隐藏）
   - 存储桶：存储桶完整名称
   - 地域：存储桶所在地域

## 注意事项

### CORS跨域问题

由于浏览器安全限制，直接访问COS可能遇到CORS跨域问题。应用提供了以下解决方案：

1. **推荐方案**：在COS控制台配置跨域访问规则
2. **备用方案**：自动使用代理服务绕过CORS限制
3. **手动方案**：下载文件后使用本地导入功能

### 安全建议

- 为COS访问创建专用的子账号和API密钥
- 仅授予必要的COS读取权限
- 定期轮换API密钥
- 避免在公共网络环境下输入敏感信息

### 支持的文件格式

- `.md` - Markdown文件
- `.markdown` - Markdown文件

## 使用流程

1. **配置并连接到COS**
   - 输入SecretId、SecretKey、存储桶和地域信息
   - 点击"连接"按钮

2. **浏览存储桶中的目录和文件**
   - 连接成功后，标题栏会显示连接状态和当前路径
   - 使用面包屑导航快速跳转到上级目录
   - 点击目录名称进入子目录
   - 只显示当前目录下的直接内容

3. **头部工具栏操作**
   - 🏠 返回根目录按钮（仅在子目录时显示）
   - 🔄 刷新文件列表按钮
   - ❌ 断开连接按钮

4. **选择文件进行预览**
   - 点击Markdown文件直接预览
   - 系统自动将访问的文件添加到最近文件列表

## 界面优化

### 连接状态显示
- ✅ 连接成功图标和文字提示
- 📍 当前存储桶和地域信息
- 📁 当前所在目录路径

### 面包屑导航
- 支持多级目录导航
- 点击任意路径段快速跳转
- 清晰的视觉层级显示

### 工具栏集成
- 所有操作按钮集中在头部
- 直观的图标设计
- 悬停提示说明功能

## 故障排除

### 连接失败

- 检查SecretId和SecretKey是否正确
- 确认存储桶名称和地域配置无误
- 检查网络连接是否正常

### 文件列表为空

- 确认存储桶中包含Markdown文件
- 检查文件路径和权限设置
- 尝试刷新文件列表

### 下载失败

- 检查文件是否存在
- 确认有足够的访问权限
- 尝试使用代理模式

---

配置完成后，您就可以方便地从腾讯云COS中导入和预览Markdown文档了！ 